{
    "sourceFile": "src/components/auth/Register.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1705972183522,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1705972183522,
            "name": "Commit-0",
            "content": "\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { REGISTER_URL } from \"@/lib/ApiEndPoints\";\r\n\r\nexport default function Register() {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [authState, setAuthState] = useState<AuthStateType>({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    password_confirmation: \"\",\r\n  });\r\n  const [errors, setErrors] = useState({\r\n    name: [],\r\n    email: [],\r\n    password: [],\r\n  });\r\n\r\n  const handleSubmit = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    setLoading(true);\r\n    await axios\r\n      .post(REGISTER_URL, authState, {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n        },\r\n      })\r\n      .then((res) => {\r\n        toast.success(\"Conta criada com sucesso.\", {\r\n          theme: \"colored\",\r\n        });\r\n        setLoading(false);\r\n        setAuthState({});\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        console.log(\"Ocorreu um erro \", err.response?.data);\r\n        setErrors(err.response?.data?.errors);\r\n      });\r\n  };\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle>Cadastrar</CardTitle>\r\n        <CardDescription>\r\n          Bem vindo ao Medium\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-2\">\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"space-y-1\">\r\n            <Label htmlFor=\"name\">Nome</Label>\r\n            <Input\r\n              id=\"name\"\r\n              type=\"text\"\r\n              placeholder=\"Digite seu nome..\"\r\n              onChange={(e) =>\r\n                setAuthState({ ...authState, name: e.target.value })\r\n              }\r\n            />\r\n            <span className=\"text-red-500\">{errors?.name?.[0]}</span>\r\n          </div>\r\n          <div className=\"space-y-1\">\r\n            <Label htmlFor=\"email\">Email</Label>\r\n            <Input\r\n              id=\"email\"\r\n              type=\"email\"\r\n              placeholder=\"Digite seu email..\"\r\n              onChange={(e) =>\r\n                setAuthState({ ...authState, email: e.target.value })\r\n              }\r\n            />\r\n            <span className=\"text-red-500\">{errors?.email?.[0]}</span>\r\n          </div>\r\n          <div className=\"space-y-1\">\r\n            <Label htmlFor=\"password\">Senha</Label>\r\n            <Input\r\n              id=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"Informe uma senha..\"\r\n              onChange={(e) =>\r\n                setAuthState({ ...authState, password: e.target.value })\r\n              }\r\n            />\r\n            <span className=\"text-red-500\">{errors?.password?.[0]}</span>\r\n          </div>\r\n          <div className=\"space-y-1\">\r\n            <Label htmlFor=\"cPasword\">Confirme a senha</Label>\r\n            <Input\r\n              id=\"cPasword\"\r\n              type=\"password\"\r\n              placeholder=\"Confirme a senha..\"\r\n              onChange={(e) =>\r\n                setAuthState({\r\n                  ...authState,\r\n                  password_confirmation: e.target.value,\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"mt-4\">\r\n            <Button className=\"w-full\" disabled={loading}>\r\n              {loading ? \"Processando..\" : \"Cadastrar\"}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}"
        }
    ]
}